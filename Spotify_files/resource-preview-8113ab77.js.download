import{_ as t}from"./preload-helper-be1680a6.js";import{r as c}from"./stimulus-helpers-50266f37.js";import{E as a}from"./ez-base-controller-29e49ea5.js";import{a as d}from"./helpers-a84f7625.js";import{g as h}from"./resource-show-helpers-d7044901.js";import{sendTrackingEvent as g}from"./tracking-0dbb49c1.js";import{aA as v}from"./actions-6b3b15bd.js";import"./js.cookie-c0fbedcc.js";import"./_commonjsHelpers-de833af9.js";import"./init-user-05a6553c.js";class n extends a{connect(){this.upgrade2x(),this.previewOuterWrapTarget.addEventListener("contextmenu",this.preventRightClick),this.flagLoaded()}disconnect(){this.previewOuterWrapTarget.removeEventListener("contextmenu",this.preventRightClick)}preventRightClick(e){e.preventDefault()}upgrade2x(){if(window.devicePixelRatio!==1)return;const e=parseInt(this.previewOuterWrapTarget.dataset.originalWidth,10),r=parseInt(this.previewOuterWrapTarget.dataset.originalHeight,10);if(this.previewImageTarget.width>Math.floor(e/2)||this.previewImageTarget.height>Math.floor(r/2)){const i=this.previewImageTarget.getAttribute("srcset"),s=i.indexOf(" "),o=i.substring(0,s);this.previewImageTarget.setAttribute("srcset",`${o} 1x`)}}sendEditorButtonEvent(e){e.stopPropagation(),g({element:e.currentTarget,data:{action:v,label:h(),content_type:`Content-${d()}`}})}get previewContentType(){return this.previewOuterWrapTarget.getAttribute("data-resource-show-preview-content-type")}}n.targets=["previewImage","previewWrap","previewInnerWrap","previewOuterWrap"];class m extends a{constructor(){super(...arguments),this.verticalBreakpoint=.8}connect(){this.flagLoaded(),this.setTallVideo()}setTallVideo(){const e=document.querySelector(".ez-resource-show__preview__inner-wrap__wrap").offsetHeight;if(this.element.offsetHeight>e){this.element.style.height=`${e}px`,this.element.style.paddingTop="0";const i=parseFloat(this.element.dataset.originalWidth),s=parseFloat(this.element.dataset.originalHeight),o=i/s,l=o*e;this.element.style.width=`${l}px`,o<this.verticalBreakpoint&&this.setVerticalVideoClass()}}setVerticalVideoClass(){this.element.querySelector(".videos-plyr").classList.add("vertical-video");let e=0;const r=setInterval(()=>{this.element.querySelector(".plyr--video")?(this.element.querySelector(".plyr--video").classList.add("simplified-controls"),clearInterval(r)):(e+=1,e===100&&clearInterval(r))},100)}}t(()=>Promise.resolve({}),["assets/pricing_plan_block_component-f6be356d.css"]);t(()=>Promise.resolve({}),["assets/comparison-chart-51192c05.css"]);t(()=>import("./pricing-modal-c9f091d8.js"),["assets/pricing-modal-870f0855.css"]);c([["resource-show-preview",n],["resource-show-preview-video",m],["resource-show-preview-zoom",t(()=>import("./resource-show-preview-zoom-controller-ce75cbf0.js"),[])],["image-zoom",t(()=>import("./image-zoom-controller-119d6806.js"),[])],["pricing-modal",t(()=>import("./pricing-modal-controller-30671d37.js"),[])],["pricing-plan-block",t(()=>import("./pricing-plan-block-controller-6abdd30d.js"),[])]]);
