import{_ as r}from"./preload-helper-be1680a6.js";import{r as a,a as c}from"./stimulus-helpers-50266f37.js";import{R as s,f as m,D as d}from"./helpers-a84f7625.js";import{E as h}from"./ez-base-controller-29e49ea5.js";import{M as p}from"./media-matcher-b9d0b27a.js";import"./js.cookie-c0fbedcc.js";import"./_commonjsHelpers-de833af9.js";import"./init-user-05a6553c.js";const i=new p;class n extends h{constructor(){super(...arguments),this.timer=null,this.updateTimer=()=>{const e=new Date().getTime(),t=this.countdownDate-e;this.days=this.calculateTimerValue({part:"days",distance:t}),this.hours=this.calculateTimerValue({part:"hours",distance:t}),this.minutes=this.calculateTimerValue({part:"minutes",distance:t}),this.seconds=this.calculateTimerValue({part:"seconds",distance:t}),this.inlineValue?this.renderInlineOutput():this.renderBlockOutput(),this.flagLoaded(),t<0&&clearInterval(this.timer)}}connect(){const e=this.countdownEndValue.replace(/"/g,"");this.countdownDate=new Date(e).getTime(),this.hasMobileDisableWidthValue?(i.addMediaQuery(`(min-width: ${this.mobileDisableWidthValue}px)`,()=>{this.startTimer()},()=>{this.timer&&clearInterval(this.timer)}),i.evaluateAll(),i.addListeners()):this.startTimer()}disconnect(){this.timer&&clearInterval(this.timer),this.hasMobileDisableWidthValue&&(i.removeListeners(),i.clearQueries())}startTimer(){this.timer=setInterval(this.updateTimer,1e3)}calculateTimerValue({part:e,distance:t}){switch(e){case"days":return Math.floor(t/(1e3*60*60*24));case"hours":return Math.floor(t%(1e3*60*60*24)/(1e3*60*60));case"minutes":return Math.floor(t%(1e3*60*60)/(1e3*60));case"seconds":default:return Math.floor(t%(1e3*60)/1e3)}}renderInlineOutput(){const e=[s(this.minutes),s(this.seconds)];this.days?(e.unshift(s(this.hours)),e.unshift(`${this.days}`)):e.unshift(`${this.hours}`),this.element.innerHTML=e.join(":")}renderBlockOutput(){const e=[this.renderTimerBlock("hours"),this.renderTimerBlock("minutes"),this.renderTimerBlock("seconds")];this.days&&e.unshift(this.renderTimerBlock("days")),this.element.innerHTML=e.join("")}renderTimerBlock(e){return`<span class="countdown-timer__unit-block">
              <span class="countdown-timer__unit-block__unit-value">${this[e]}</span>
              <span class="countdown-timer__unit-block__unit-text">${this[`${e}TextValue`]}</span>
            </span>`}}n.values={mobileDisableWidth:Number,countdownEnd:String,daysText:String,hoursText:String,minutesText:String,secondsText:String,inline:Boolean};const _=Object.freeze(Object.defineProperty({__proto__:null,default:n},Symbol.toStringTag,{value:"Module"}));class u extends n{constructor(){super(...arguments),this.timer=null,this.updateTimer=()=>{const e=new Date().getTime(),t=this.countdownDate-e;if(this.minutes=super.calculateTimerValue({part:"minutes",distance:t}),this.seconds=super.calculateTimerValue({part:"seconds",distance:t}),this.renderInlineOutput(),super.flagLoaded(),t<0){clearInterval(this.timer);const l=new CustomEvent("timer-reached-zero");window.dispatchEvent(l)}}}connect(){super.connect()}renderInlineOutput(){const e=[`${this.minutes}${this.minutesTextValue}`,`${this.seconds}${this.secondsTextValue}`];this.element.innerHTML=e.join(" : ")}}u.values={mobileDisableWidth:Number,countdownEnd:String,daysText:String,hoursText:String,minutesText:String,secondsText:String,inline:Boolean};r(()=>import("./join-newsletter-765f621c.js"),[]);a([["partner-popup",r(()=>import("./partner-popup-controller-1e8f9a86.js"),[])],["countdown-timer",r(()=>Promise.resolve().then(()=>_),void 0)],["promo-popup",r(()=>import("./promo-popup-controller-9d54198d.js"),[])],["cart-abandonment-countdown-timer",u]]);m("customer_feedback")&&(r(()=>import("./customer_feedback-e33d3fd4.js"),["assets/customer_feedback-be8cdb19.css"]),a([["customer-feedback-component",r(()=>import("./customer-feedback-component-controller-2264e5ae.js"),[])],["customer-feedback-form",r(()=>import("./customer-feedback-form-controller-4ce1de5c.js"),[])]]));document.querySelector("#post-purchase-welcome-modal")?c({name:"welcome-modal",import:r(()=>import("./welcome-modal-controller-807de031.js"),[])}):new URL(window.location.href).searchParams.has("purchase_confirmation")&&d("purchase_confirmation");
